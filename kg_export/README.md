**kore.ai**

# KnowledgeGraph ExportParser

## Overview
kore.ai KnowledgeGraph ExportParser is custom utility to generate a CSV from KnowledgeGraph json_export file. Unlike the current csv_export format, the CSV generated from this utility provides all the features that are currently present in KnowledgeGraph. User must again convert the custom CSV to KnowledgeGraph supported json_format using the same tool and then import the generated json_file in bot

## Prerequisites
* **Python 3.6:** The KnowledgeGraph ExportParser requires python 3.6. Can be downloaded from here: [https://www.python.org/downloads/](https://www.python.org/downloads/)

## Configuration Steps

Configuring KnowledgeGraph ExportParser involves the following major steps:

* **Step 1:** **Download the KnowledgeGraphGenerator dev branch from GitHub:** Find the repository here: [https://github.com/Koredotcom/KnowledgeGraphGenerator/tree/dev](https://github.com/Koredotcom/KnowledgeGraphGenerator/tree/dev)

## Run KnowledgeGraph ExportParser
Run this command from root directory i.e. KnowledgeGraphGenerator directory
<br>
Command - `python kg_export/ExportParser.py --input_file_path 'input_csv_or_json_file.json' --type 'json_to_csv' --output_file_path 'output_csv_or_json_file.csv'
` <br>

## Command Options

**Note:: The options which are listed as mandatory should be given along with the command, for options which are regarded as optional, the default values mentioned will be picked**

<table>
       <tr>
              <td> Option name </td>
              <td> Description </td>
       <tr>
       <tr>
              <td> --input_file_path </td>
              <td> Input file location, csv/json based on request type</td>
       </tr>  
       <tr>
              <td> --type </td>
              <td> The type of input file 
                     <ol>
                            <li>json_to_csv</li>
                            <li>csv_to_json</li>
                     </ol>
              </td>
       </tr>
       <tr>
         <td> --output_file_path </td>
              <td> output file location json/csv based on request type </td>
       </tr>
</table>

### Option: type
type specifies the request type. There are two request types supported <br>
<ol>
  <li>json_to_csv - This type is used to generate custom csv format from a KnowledgeGraph json export file</li>
  <li>csv_to_json - This type is used to generate KnowledgeGraph supported json file from custom csv file generated by this tool</li>
</ol>


### Option: input_file_path 

input_file_path option in the command specifies the file that needed to be parsed by the tool.<br>
If the request type is **json_to_csv** then input_file_path should be location of a KnowledgeGraph json export taken from the bot <br>
If the request type is **csv_to_json** then input_file_path should be location of the **csv file generated by this tool**

### Option: output_file_path

output_file_path option in the command specifies the path of output file, that will be generated by the tool. <br>
1. If the request type is **json_to_csv** then output_file_path should be location of a **csv file generated by this tool** <br>
2. If the request type is **csv_to_json** then output_file_path should be the location of the json file that will be imported as kg export in bot's KnowledgeCollection<br>
**Note** : user need not create an empty output file but only specify a file name with full path in which tool can create the output file. If the full path is not mentioned the file with the given filename will be created in current working directory i.e is **KnowledgeGraphGenerator**


### Things to consider

<ol>
       <li> 
              question Id mentioned in the custom csv format under FAQs section, second column, is required for every primary question and optional for alternate questions. ID can be any unique string 
       </li>
       <li>
              Alternate questions will come in next row to primary question but not in same row, as properties like tags etc... varies from question to question, they need to be in new row
       </li>
       <li>
              ID's auto filled in CSV through existing json should be modified
       </li>
       <li>
              Only the first section in CSV (FAQ section) is mandatory. Remaining sections are optional and needed only based on use case
       </li>
</ol>
